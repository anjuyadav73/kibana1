!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=27)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){var n=r(25);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){t.exports=r(17)},function(t,e,r){var n=r(19),o=r(20),i=r(12),a=r(21);t.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){function r(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,c,"next",t)}function c(t){r(a,o,i,u,c,"throw",t)}u(void 0)}))}}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){var n=r(11);t.exports=function(t){return new n(t)}},function(t,e,r){var n=r(22),o=r(23),i=r(12),a=r(24);t.exports=function(t){return n(t)||o(t)||i(t)||a()}},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t){this.wrapped=t}},function(t,e,r){var n=r(13);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e,r){var n=r(18);t.exports=function(t){return function(){return new n(t.apply(this,arguments))}}},function(t,e){t.exports=function(t){var e;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(e=t[Symbol.asyncIterator]))return e.call(t);if(Symbol.iterator&&null!=(e=t[Symbol.iterator]))return e.call(t)}throw new TypeError("Object is not async iterable")}},function(t,e,r){var n=r(5),o=r(26);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e}},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof l?e:l,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===s)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var s={};function l(){}function y(){}function p(){}var h={};h[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&r.call(v,o)&&(h=v);var b=p.prototype=l.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return y.prototype=b.constructor=p,p.constructor=y,y.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new m(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),u(b,a,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){var n=r(11);function o(t){var e,r;function o(e,r){try{var a=t[e](r),u=a.value,c=u instanceof n;Promise.resolve(c?u.wrapped:u).then((function(t){c?o("return"===e?"return":"next",t):i(a.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,n){switch(t){case"return":e.resolve({value:n,done:!0});break;case"throw":e.reject(n);break;default:e.resolve({value:n,done:!1})}(e=e.next)?o(e.key,e.arg):r=null}this._invoke=function(t,n){return new Promise((function(i,a){var u={key:t,arg:n,resolve:i,reject:a,next:null};r?r=r.next=u:(e=r=u,o(t,n))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(t){return this._invoke("next",t)},o.prototype.throw=function(t){return this._invoke("throw",t)},o.prototype.return=function(t){return this._invoke("return",t)},t.exports=o},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){var n=r(13);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";r.r(e);var n=r(3),o=r.n(n),i=r(6),a=r.n(i),u=r(7),c=r.n(u),f=r(0),s=r.n(f),l=r(2),y=r.n(l),p=r(8),h=r.n(p),d=r(14),v=r.n(d),b=r(15),g=r.n(b),m=r(9),w=r.n(m);function x(t,e){if(!t)throw new Error(e||"loader assertion failed.")}function k(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var S=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s()(this,t),x(Array.isArray(e)),j(e),this.fields=e,this.metadata=r||new Map}return y()(t,[{key:"compareTo",value:function(t){if(this.fields.metadata!==t.fields.metadata)return!1;if(this.fields.length!==t.fields.length)return!1;for(var e=0;e<this.fields.length;++e)if(!this.fields[e].compareTo(t.fields[e]))return!1;return!0}},{key:"select",value:function(){for(var e=Object.create(null),r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var u=a[i];e[u]=!0}var c=n.filter((function(t){return e[t.name]}));return new t(c,this.metadata)}},{key:"selectAt",value:function(){for(var e=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=n.map((function(t){return e.fields[t]})).filter(Boolean);return new t(i,this.metadata)}},{key:"assign",value:function(e){var r=this.metadata,n=e;if(e instanceof t){var o=e;n=o.fields,r=L(L(new Map,this.metadata),o.metadata)}var i,a=Object.create(null),u=k(this.fields);try{for(u.s();!(i=u.n()).done;){var c=i.value;a[c.name]=c}}catch(t){u.e(t)}finally{u.f()}var f,s=k(n);try{for(s.s();!(f=s.n()).done;){var l=f.value;a[l.name]=l}}catch(t){s.e(t)}finally{s.f()}return new t(Object.values(a),r)}}]),t}();function j(t){var e,r={},n=k(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o.name]&&console.warn("Schema: duplicated field name",o.name,o),r[o.name]=!0}}catch(t){n.e(t)}finally{n.f()}}function L(t,e){return new Map([].concat(w()(t||new Map),w()(e||new Map)))}var I=r(5),A=r.n(I),E=r(1),T=r.n(E),B=r(16),P=r.n(B),D=r(10),_=r.n(D),U=0,F=1,M=2,N=3,R=4,C=5,G=6,H=7,V=8,z=9,$=10,Y=11,W=12,q=13,J=14,K=15,Q=16,X=17,Z=-1;function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_()(t);if(e){var o=_()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P()(this,r)}}var et=function(){function t(){s()(this,t)}return y()(t,[{key:"compareTo",value:function(t){return this===t}},{key:"typeId",get:function(){return U}}],[{key:"isNull",value:function(t){return t&&t.typeId===F}},{key:"isInt",value:function(t){return t&&t.typeId===M}},{key:"isFloat",value:function(t){return t&&t.typeId===N}},{key:"isBinary",value:function(t){return t&&t.typeId===R}},{key:"isUtf8",value:function(t){return t&&t.typeId===C}},{key:"isBool",value:function(t){return t&&t.typeId===G}},{key:"isDecimal",value:function(t){return t&&t.typeId===H}},{key:"isDate",value:function(t){return t&&t.typeId===V}},{key:"isTime",value:function(t){return t&&t.typeId===z}},{key:"isTimestamp",value:function(t){return t&&t.typeId===$}},{key:"isInterval",value:function(t){return t&&t.typeId===Y}},{key:"isList",value:function(t){return t&&t.typeId===W}},{key:"isStruct",value:function(t){return t&&t.typeId===q}},{key:"isUnion",value:function(t){return t&&t.typeId===J}},{key:"isFixedSizeBinary",value:function(t){return t&&t.typeId===K}},{key:"isFixedSizeList",value:function(t){return t&&t.typeId===Q}},{key:"isMap",value:function(t){return t&&t.typeId===X}},{key:"isDictionary",value:function(t){return t&&t.typeId===Z}}]),t}(),rt=function(t){T()(r,t);var e=tt(r);function r(){return s()(this,r),e.apply(this,arguments)}return y()(r,[{key:"toString",value:function(){return"Bool"}},{key:"typeId",get:function(){return G}},{key:"ArrayType",get:function(){return Uint8Array}},{key:Symbol.toStringTag,get:function(){return"Bool"}}]),r}(et),nt=16,ot=32,it=64,at=function(t){T()(r,t);var e=tt(r);function r(t){var n;return s()(this,r),(n=e.call(this)).precision=t,n}return y()(r,[{key:"toString",value:function(){return"Float".concat(this.precision)}},{key:"typeId",get:function(){return N}},{key:"ArrayType",get:function(){switch(this.precision){case nt:return Uint16Array;case ot:return Float32Array;case it:return Float64Array;default:throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}},{key:Symbol.toStringTag,get:function(){return"Float"}}]),r}(et),ut=function(t){T()(r,t);var e=tt(r);function r(){return s()(this,r),e.call(this,it)}return r}(at),ct=function(t){T()(r,t);var e=tt(r);function r(){return s()(this,r),e.apply(this,arguments)}return y()(r,[{key:"toString",value:function(){return"Utf8"}},{key:"typeId",get:function(){return C}},{key:"ArrayType",get:function(){return Uint8Array}},{key:Symbol.toStringTag,get:function(){return"Utf8"}}]),r}(et),ft={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9},st=function(t){T()(r,t);var e=tt(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s()(this,r),(n=e.call(this)).unit=t,n.timezone=o,n}return y()(r,[{key:"toString",value:function(){return"Timestamp<".concat(ft[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}},{key:"typeId",get:function(){return $}},{key:"ArrayType",get:function(){return Int32Array}},{key:Symbol.toStringTag,get:function(){return"Timestamp"}}]),r}(et),lt=function(t){T()(r,t);var e=tt(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return s()(this,r),e.call(this,ft.MILLISECOND,t)}return r}(st),yt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;s()(this,t),x("string"==typeof e),x(!r||r instanceof et),x("boolean"==typeof n),x(!o||"object"===A()(o)),this.name=e,this.type=r,this.nullable=n,this.metadata=o}return y()(t,[{key:"clone",value:function(){return new t(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(t){return this.name===t.name&&this.type===t.type&&this.nullable===t.nullable&&this.metadata===t.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}},{key:"typeId",get:function(){return this.type&&this.type.typeId}}]),t}(),pt=r(4),ht=r.n(pt);function dt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bt=function(){function t(e){s()(this,t);var r=(e||{}).maxRewindBytes,n=void 0===r?0:r;this.offset=0,this.arrayBuffers=[],this.ended=!1,this.maxRewindBytes=n}return y()(t,[{key:"write",value:function(t){this.arrayBuffers.push(t)}},{key:"end",value:function(){this.arrayBuffers=[],this.ended=!0}},{key:"hasAvailableBytes",value:function(t){var e,r=-this.offset,n=dt(this.arrayBuffers);try{for(n.s();!(e=n.n()).done;){if((r+=e.value.byteLength)>=t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"findBufferOffsets",value:function(t){for(var e=-this.offset,r=[],n=0;n<this.arrayBuffers.length;n++){var o=this.arrayBuffers[n];if(e+o.byteLength<=0)e+=o.byteLength;else{var i=e<=0?Math.abs(e):0,a=void 0;if(i+t<=o.byteLength)return a=i+t,r.push([n,[i,a]]),r;a=o.byteLength,r.push([n,[i,a]]),t-=o.byteLength-i,e+=o.byteLength}}return null}},{key:"getDataView",value:function(t){var e=this.findBufferOffsets(t);if(!e&&this.ended)throw new Error("binary data exhausted");if(!e)return null;if(1===e.length){var r=ht()(e[0],2),n=r[0],o=ht()(r[1],2),i=o[0],a=o[1],u=this.arrayBuffers[n],c=new DataView(u,i,a-i);return this.offset+=t,this.disposeBuffers(),c}var f=new DataView(this._combineArrayBuffers(e));return this.offset+=t,this.disposeBuffers(),f}},{key:"disposeBuffers",value:function(){for(;this.arrayBuffers.length>0&&this.offset-this.maxRewindBytes>=this.arrayBuffers[0].byteLength;)this.offset-=this.arrayBuffers[0].byteLength,this.arrayBuffers.shift()}},{key:"_combineArrayBuffers",value:function(t){var e,r=0,n=dt(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=ht()(o[1],2),a=i[0];r+=i[1]-a}}catch(t){n.e(t)}finally{n.f()}var u,c=new Uint8Array(r),f=0,s=dt(t);try{for(s.s();!(u=s.n()).done;){var l=u.value,y=ht()(l,2),p=y[0],h=ht()(y[1],2),d=h[0],v=h[1],b=new Uint8Array(this.arrayBuffers[p]);c.set(b.subarray(d,v),f),f+=v-d}}catch(t){s.e(t)}finally{s.f()}return c.buffer}},{key:"skip",value:function(t){this.offset+=t}},{key:"rewind",value:function(t){this.offset-=t}}]),t}();function gt(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wt=0,xt=1,kt=2,Ot=3,St=4,jt=function(){function t(e){var r=e.encoding;s()(this,t),this.binaryReader=new bt,this.textDecoder=new TextDecoder(r),this.state=wt,this.result={data:[],schema:null}}return y()(t,[{key:"write",value:function(t){this.binaryReader.write(t),this.state=At(this.state,this.result,this.binaryReader,this.textDecoder)}},{key:"end",value:function(){this.binaryReader.end(),this.state=At(this.state,this.result,this.binaryReader,this.textDecoder),this.state!==Ot&&(this.state=St,this.result.error="DBF incomplete file")}}]),t}();function Lt(t,e){var r=(e.dbf||{}).encoding,n=new jt({encoding:r});n.write(t),n.end();var o=n.result,i=o.data,a=o.schema;switch(e.tables&&e.tables.format){case"table":return{schema:a,rows:i};case"rows":default:return i}}function It(){return(It=v()(o.a.mark((function t(e,r){var n,i,a,u,c,f,s,l,y,p,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.dbf||{},i=n.encoding,a=new jt({encoding:i}),u=!1,c=!0,f=!1,t.prev=6,l=g()(e);case 8:return t.next=10,h()(l.next());case 10:return y=t.sent,c=y.done,t.next=14,h()(y.value);case 14:if(p=t.sent,c){t.next=29;break}if(d=p,a.write(d),u||!a.result.dbfHeader){t.next=22;break}return u=!0,t.next=22,a.result.dbfHeader;case 22:if(!(a.result.data.length>0)){t.next=26;break}return t.next=25,a.result.data;case 25:a.result.data=[];case 26:c=!0,t.next=8;break;case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(6),f=!0,s=t.t0;case 35:if(t.prev=35,t.prev=36,c||null==l.return){t.next=40;break}return t.next=40,h()(l.return());case 40:if(t.prev=40,!f){t.next=43;break}throw s;case 43:return t.finish(40);case 44:return t.finish(35);case 45:if(a.end(),!(a.result.data.length>0)){t.next=49;break}return t.next=49,a.result.data;case 49:case"end":return t.stop()}}),t,null,[[6,31,35,45],[36,,40,44]])})))).apply(this,arguments)}function At(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;;)try{switch(t){case St:case Ot:return t;case wt:var o=r.getDataView(32,"DBF header");if(!o)return t;e.dbfHeader=Et(o),e.progress={bytesUsed:0,rowsTotal:e.dbfHeader.nRecords,rows:0},t=xt;break;case xt:var i=r.getDataView(e.dbfHeader.headerLength-32,"DBF field descriptors");if(!i)return t;e.dbfFields=Tt(i,n),e.schema=new S(e.dbfFields.map((function(t){return _t(t)}))),t=kt,r.skip(1);break;case kt:for(var a=e.dbfHeader.recordLength;e.data.length<e.dbfHeader.nRecords;){var u=r.getDataView(a-1);if(!u)return t;r.skip(1);var c=Bt(u,e.dbfFields,n);e.data.push(c),e.progress.rows=e.data.length}t=Ot;break;default:return t=St,e.error="illegal parser state ".concat(t),t}}catch(r){return t=St,e.error="DBF parsing failed: ".concat(r.message),t}}function Et(t){return{year:t.getUint8(1)+1900,month:t.getUint8(2),day:t.getUint8(3),nRecords:t.getUint32(4,!0),headerLength:t.getUint16(8,!0),recordLength:t.getUint16(10,!0),languageDriver:t.getUint8(29)}}function Tt(t,e){for(var r=(t.byteLength-1)/32,n=[],o=0,i=0;i<r;i++){var a=e.decode(new Uint8Array(t.buffer,t.byteOffset+o,11)).replace(/\u0000/g,"");n.push({name:a,dataType:String.fromCharCode(t.getUint8(o+11)),fieldLength:t.getUint8(o+16),decimal:t.getUint8(o+17)}),o+=32}return n}function Bt(t,e,r){var n,o={},i=0,a=gt(e);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=r.decode(new Uint8Array(t.buffer,t.byteOffset+i,u.fieldLength));o[u.name]=Pt(c,u.dataType),i+=u.fieldLength}}catch(t){a.e(t)}finally{a.f()}return o}function Pt(t,e){switch(e){case"B":return Dt(t);case"C":return function(t){return t.trim()||null}(t);case"F":case"N":case"O":return Dt(t);case"D":return n=t,Date.UTC(n.slice(0,4),parseInt(n.slice(4,6),10)-1,n.slice(6,8));case"L":return!/^[nf]$/i.test(r=t)&&(!!/^[yt]$/i.test(r)||null);default:throw new Error("Unsupported data type")}var r,n}function Dt(t){var e=parseFloat(t);return isNaN(e)?null:e}function _t(t){var e=t.name,r=t.dataType;t.fieldLength,t.decimal;switch(r){case"B":return new yt(e,new ut,!0);case"C":return new yt(e,new ct,!0);case"F":case"N":case"O":return new yt(e,new ut,!0);case"D":return new yt(e,new lt,!0);case"L":return new yt(e,new rt,!0);default:throw new Error("Unsupported data type")}}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){c()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Mt,Nt=Ft(Ft({},{id:"dbf",name:"DBF",category:"table",version:"2.3.13",extensions:["dbf"],mimeTypes:["application/x-dbf"],options:{dbf:{encoding:"latin1",workerUrl:"https://unpkg.com/@loaders.gl/shapefile@".concat("2.3.13","/dist/dbf-loader.worker.js")}}}),{},{parse:(Mt=a()(o.a.mark((function t(e,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Lt(e,r));case 1:case"end":return t.stop()}}),t)}))),function(t,e){return Mt.apply(this,arguments)}),parseSync:Lt,parseInBatches:function(t,e){return It.apply(this,arguments)}});function Rt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=r||new Set;if(t){if(Ct(t))n.add(t);else if(Ct(t.buffer))n.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"===A()(t))for(var o in t)Rt(t[o],e,n)}else;return void 0===r?Array.from(n):[]}function Ct(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&t instanceof MessagePort||("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}function Gt(t,e){if(!t)throw new Error(e||"loader assertion failed.")}function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.3.13";Gt(t,"no loader provided");var r=t.version;e&&r&&(e=Vt(e),r=Vt(r))}function Vt(t){var e=t.split(".").map(Number);return{major:e[0],minor:e[1]}}function zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(r),!0).forEach((function(e){c()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t){return Wt.apply(this,arguments)}function Wt(){return(Wt=a()(o.a.mark((function t(e){var r,n,i,a,u,c,f;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.loader,n=e.arraybuffer,e.byteOffset,e.byteLength,i=e.options,a=e.context,!r.parseSync&&!r.parse){t.next=6;break}u=n,c=r.parseSync||r.parse,t.next=13;break;case 6:if(!r.parseTextSync){t.next=12;break}f=new TextDecoder,u=f.decode(n),c=r.parseTextSync,t.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=$t($t({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),t.next=16,c(u,$t({},i),a,r);case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(t,e){return t&&"parse"===t.type&&t.source&&t.source.startsWith("loaders.gl")}!function(t){if("undefined"!=typeof self){var e=0,r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(o,i){var a=e++;self.addEventListener("message",(function t(e){var r=e.data;if(r&&r.id===a)switch(r.type){case"parse-done":self.removeEventListener("message",t),o(r.result);break;case"parse-error":self.removeEventListener("message",t),i(r.message)}})),self.postMessage({type:"parse",id:a,arraybuffer:t,options:r,url:n},[t])}))};self.onmessage=function(){var e=a()(o.a.mark((function e(n){var i,a,u,c,f,s,l,y,p,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.data,e.prev=1,qt(i,t.name)){e.next=4;break}return e.abrupt("return");case 4:return Ht(t,i.source.split("@")[1]),a=i.arraybuffer,u=i.byteOffset,c=void 0===u?0:u,f=i.byteLength,s=void 0===f?0:f,l=i.options,y=void 0===l?{}:l,e.next=8,Yt({loader:t,arraybuffer:a,byteOffset:c,byteLength:s,options:y,context:{parse:r}});case 8:p=e.sent,h=Rt(p),self.postMessage({type:"done",result:p},h),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),self.postMessage({type:"error",message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()}}(Nt)}]);